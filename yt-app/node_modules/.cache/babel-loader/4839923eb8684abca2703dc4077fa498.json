{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nconst KEY = \"AIzaSyDjRye0LG-KWE8_VvLVRyPgtuJWSmwmKqI\";\n\nconst VideoPlayer = () => {\n  _s();\n\n  const {\n    videoId\n  } = useParams();\n  const [videoInfo, setVideoInfo] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    setVideoInfo([]);\n    setIsLoading(true);\n    axios.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet%2C%20statistics&id=${videoId}&key=${KEY}`).then(responese => {\n      createVideoInfo(response.data[\"items\"][0]);\n      setIsError(false);\n    }).catch(error => {\n      setIsError(true);\n    });\n  }, [videoId]);\n\n  async function createVideoInfo(video) {\n    const snippet = video.snippet;\n    const stats = video.statistics;\n    const channelId = snippet.channelId;\n    const response = await axios.get(`https://www.googleapis.com/youtube/v3/channels?part=snippet%2C%20statistics&id=${channelId}&key=${process.env.REACT_APP_YOUTUBE_API_KEY}`);\n    const channelImage = response.data.items[0].snippet.thumbnails.medium.url;\n    const subs = response.data.items[0].statistics.subscriberCount;\n    const publishedDate = new Date(snippet.publishedAt).toLocaleDateString('en-GB', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric'\n    });\n    const title = snippet.title;\n    const description = snippet.description;\n    const channelTitle = snippet.channelTitle;\n    const viewCount = stats.viewCount;\n    const likeCount = stats.likeCount;\n    const dislikeCount = stats.dislikeCount;\n  }\n};\n\n_s(VideoPlayer, \"SN9N2GVUE0V+C2FeR8HA3WnKxoM=\", false, function () {\n  return [useParams];\n});\n\n_c = VideoPlayer;\nexport default VideoPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["axios","useEffect","useParams","KEY","VideoPlayer","videoId","videoInfo","setVideoInfo","useState","isLoading","setIsLoading","isError","setIsError","get","then","responese","createVideoInfo","response","data","catch","error","video","snippet","stats","statistics","channelId","process","env","REACT_APP_YOUTUBE_API_KEY","channelImage","items","thumbnails","medium","url","subs","subscriberCount","publishedDate","Date","publishedAt","toLocaleDateString","day","month","year","title","description","channelTitle","viewCount","likeCount","dislikeCount"],"sources":["/Users/mstar/Desktop/Acad-tasks/yt-app/src/VideoPlayer.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst KEY = \"AIzaSyDjRye0LG-KWE8_VvLVRyPgtuJWSmwmKqI\";\n\nconst VideoPlayer = () => {\n  const { videoId } = useParams();\n  const [videoInfo, setVideoInfo] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    setVideoInfo([]);\n    setIsLoading(true);\n\n    axios\n      .get(\n        `https://www.googleapis.com/youtube/v3/videos?part=snippet%2C%20statistics&id=${videoId}&key=${KEY}`\n      )\n      .then((responese) => {\n        createVideoInfo(response.data[\"items\"][0]);\n        setIsError(false);\n      })\n      .catch((error) => {\n        setIsError(true);\n      });\n  }, [videoId]);\n\n  async function createVideoInfo(video) {\n    const snippet = video.snippet;\n        const stats = video.statistics;\n        const channelId = snippet.channelId;\n        const response = await axios\n                              .get(`https://www.googleapis.com/youtube/v3/channels?part=snippet%2C%20statistics&id=${channelId}&key=${process.env.REACT_APP_YOUTUBE_API_KEY}`)\n        \n        const channelImage = response.data.items[0].snippet.thumbnails.medium.url;\n        const subs = response.data.items[0].statistics.subscriberCount;\n        const publishedDate = new Date(snippet.publishedAt).toLocaleDateString('en-GB', {  \n                                                                day : 'numeric',\n                                                                month : 'short',\n                                                                year : 'numeric'\n                                                            });\n        const title = snippet.title;\n        const description = snippet.description;\n        const channelTitle = snippet.channelTitle;\n        const viewCount = stats.viewCount;\n        const likeCount = stats.likeCount;\n        const dislikeCount = stats.dislikeCount;\n  }\n};\n\nexport default VideoPlayer;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,MAAMC,GAAG,GAAG,yCAAZ;;AAEA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAM;IAAEC;EAAF,IAAcH,SAAS,EAA7B;EACA,MAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BC,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BF,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,KAAD,CAAtC;EAEAP,SAAS,CAAC,MAAM;IACdM,YAAY,CAAC,EAAD,CAAZ;IACAG,YAAY,CAAC,IAAD,CAAZ;IAEAV,KAAK,CACFa,GADH,CAEK,gFAA+ER,OAAQ,QAAOF,GAAI,EAFvG,EAIGW,IAJH,CAISC,SAAD,IAAe;MACnBC,eAAe,CAACC,QAAQ,CAACC,IAAT,CAAc,OAAd,EAAuB,CAAvB,CAAD,CAAf;MACAN,UAAU,CAAC,KAAD,CAAV;IACD,CAPH,EAQGO,KARH,CAQUC,KAAD,IAAW;MAChBR,UAAU,CAAC,IAAD,CAAV;IACD,CAVH;EAWD,CAfQ,EAeN,CAACP,OAAD,CAfM,CAAT;;EAiBA,eAAeW,eAAf,CAA+BK,KAA/B,EAAsC;IACpC,MAAMC,OAAO,GAAGD,KAAK,CAACC,OAAtB;IACI,MAAMC,KAAK,GAAGF,KAAK,CAACG,UAApB;IACA,MAAMC,SAAS,GAAGH,OAAO,CAACG,SAA1B;IACA,MAAMR,QAAQ,GAAG,MAAMjB,KAAK,CACLa,GADA,CACK,kFAAiFY,SAAU,QAAOC,OAAO,CAACC,GAAR,CAAYC,yBAA0B,EAD7I,CAAvB;IAGA,MAAMC,YAAY,GAAGZ,QAAQ,CAACC,IAAT,CAAcY,KAAd,CAAoB,CAApB,EAAuBR,OAAvB,CAA+BS,UAA/B,CAA0CC,MAA1C,CAAiDC,GAAtE;IACA,MAAMC,IAAI,GAAGjB,QAAQ,CAACC,IAAT,CAAcY,KAAd,CAAoB,CAApB,EAAuBN,UAAvB,CAAkCW,eAA/C;IACA,MAAMC,aAAa,GAAG,IAAIC,IAAJ,CAASf,OAAO,CAACgB,WAAjB,EAA8BC,kBAA9B,CAAiD,OAAjD,EAA0D;MACxBC,GAAG,EAAG,SADkB;MAExBC,KAAK,EAAG,OAFgB;MAGxBC,IAAI,EAAG;IAHiB,CAA1D,CAAtB;IAKA,MAAMC,KAAK,GAAGrB,OAAO,CAACqB,KAAtB;IACA,MAAMC,WAAW,GAAGtB,OAAO,CAACsB,WAA5B;IACA,MAAMC,YAAY,GAAGvB,OAAO,CAACuB,YAA7B;IACA,MAAMC,SAAS,GAAGvB,KAAK,CAACuB,SAAxB;IACA,MAAMC,SAAS,GAAGxB,KAAK,CAACwB,SAAxB;IACA,MAAMC,YAAY,GAAGzB,KAAK,CAACyB,YAA3B;EACL;AACF,CA5CD;;GAAM5C,W;UACgBF,S;;;KADhBE,W;AA8CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}