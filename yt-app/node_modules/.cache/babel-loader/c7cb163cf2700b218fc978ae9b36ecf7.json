{"ast":null,"code":"var _jsxFileName = \"/Users/mstar/Desktop/Acad-tasks/yt-app/src/RecommendedVideos.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { DateTime } from \"luxon\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"./style/RecommendedVideos.css\";\nimport VideoCards from \"./VideoCards\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KEY = \"AIzaSyAunM_NS7Lx1TlmyWYEPbsMaUM3BOpgeeg\";\n\"AIzaSyAunM_NS7Lx1TlmyWYEPbsMaUM3BOpgeeg\";\n\nconst RecommendedVideos = () => {\n  _s();\n\n  const [videoCards, setVideoCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    axios.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=15&regionCode=US&key=${KEY}`).then(response => {\n      createVideoCards(response.data.items);\n    }).catch(error => {\n      setIsError(true);\n    });\n  }, []);\n\n  async function createVideoCards(videoItems) {\n    let newVideoCards = [];\n\n    for (const video of videoItems) {\n      const videoId = video.id;\n      const snippet = video.snippet;\n      const channelId = snippet.channelId;\n      const response = await axios.get(`https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${channelId}&key=${KEY}`);\n      const channelImage = response.data.items[0].snippet.thumbnails.medium.url;\n      const title = snippet.title;\n      const image = snippet.thumbnails.medium.url;\n      const views = video.statistics.viewCount;\n      const timestamp = DateTime.fromISO(snippet.publishedAt).toRelative();\n      const channel = snippet.channelTitle;\n      newVideoCards.push({\n        videoId,\n        image,\n        title,\n        channel,\n        views,\n        timestamp,\n        channelImage\n      });\n    }\n\n    setVideoCards(newVideoCards);\n    setIsLoading(false);\n  }\n\n  if (isError) {\n    console.log(\"Error in fetching data\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommendedVideos\",\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n      className: \"loading\",\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendedVideos-videos\",\n      children: videoCards.map(video => {\n        return /*#__PURE__*/_jsxDEV(VideoCards, {\n          title: video.title,\n          image: video.image,\n          views: video.views,\n          timestamp: video.timestamp,\n          channel: video.channel,\n          channelImage: video.channelImage\n        }, video.videoId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RecommendedVideos, \"3Q2JXaRd9GmFu9EfeMKgEvvv47U=\");\n\n_c = RecommendedVideos;\nexport default RecommendedVideos;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecommendedVideos\");","map":{"version":3,"names":["React","useEffect","useState","axios","DateTime","CircularProgress","VideoCards","KEY","RecommendedVideos","videoCards","setVideoCards","isLoading","setIsLoading","isError","setIsError","get","then","response","createVideoCards","data","items","catch","error","videoItems","newVideoCards","video","videoId","id","snippet","channelId","channelImage","thumbnails","medium","url","title","image","views","statistics","viewCount","timestamp","fromISO","publishedAt","toRelative","channel","channelTitle","push","console","log","map"],"sources":["/Users/mstar/Desktop/Acad-tasks/yt-app/src/RecommendedVideos.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { DateTime } from \"luxon\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"./style/RecommendedVideos.css\";\nimport VideoCards from \"./VideoCards\";\n\nconst KEY = \"AIzaSyAunM_NS7Lx1TlmyWYEPbsMaUM3BOpgeeg\"\n\"AIzaSyAunM_NS7Lx1TlmyWYEPbsMaUM3BOpgeeg\";\n\nconst RecommendedVideos = () => {\n  const [videoCards, setVideoCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=15&regionCode=US&key=${KEY}`\n      )\n      .then((response) => {\n        createVideoCards(response.data.items);\n      })\n      .catch((error) => {\n        setIsError(true);\n      });\n  }, []);\n\n  async function createVideoCards(videoItems) {\n    let newVideoCards = [];\n    for (const video of videoItems) {\n      const videoId = video.id;\n      const snippet = video.snippet;\n      const channelId = snippet.channelId;\n      const response = await axios.get(\n        `https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${channelId}&key=${KEY}`\n      );\n      const channelImage = response.data.items[0].snippet.thumbnails.medium.url;\n      const title = snippet.title;\n      const image = snippet.thumbnails.medium.url;\n      const views = video.statistics.viewCount;\n      const timestamp = DateTime.fromISO(snippet.publishedAt).toRelative();\n      const channel = snippet.channelTitle;\n\n      newVideoCards.push({\n        videoId,\n        image,\n        title,\n        channel,\n        views,\n        timestamp,\n        channelImage,\n      });\n    }\n    setVideoCards(newVideoCards);\n    setIsLoading(false);\n  }\n  if (isError) {\n    console.log(\"Error in fetching data\");\n  }\n  return (\n    <div className=\"recommendedVideos\">\n      {isLoading ? (\n        <CircularProgress className=\"loading\" color=\"secondary\" />\n      ) : null}\n      <div className=\"recommendedVideos-videos\">\n        {videoCards.map((video) => {\n          return (\n            <VideoCards\n              key={video.videoId}\n              title={video.title}\n              image={video.image}\n              views={video.views}\n              timestamp={video.timestamp}\n              channel={video.channel}\n              channelImage={video.channelImage}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default RecommendedVideos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}