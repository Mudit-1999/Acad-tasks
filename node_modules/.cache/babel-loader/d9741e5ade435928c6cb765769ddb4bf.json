{"ast":null,"code":"var _jsxFileName = \"/Users/mstar/Desktop/Acad-tasks/yt-app/src/SearchVideo.js\",\n    _s = $RefreshSig$();\n\nimport \"./style/SearchVideo.css\";\nimport React, { useState, useEffect } from \"react\";\nimport VideoRow from \"./VideoRow\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { DateTime } from \"luxon\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchVideo = () => {\n  _s();\n\n  const {\n    queryId\n  } = useParams;\n  const KEY = \"AIzaSyDjRye0LG-KWE8_VvLVRyPgtuJWSmwmKqI\";\n  const maxResults = 2; // const query = \"badminton\";\n\n  console.log(\"search\", queryId);\n  const [videoRows, setVideoRows] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    setVideoRows([]);\n    axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${maxResults}&type=video&q=${query}&safeSearch=none&key=${KEY}`).then(response => {\n      createVideoRows(response.data[\"items\"]);\n      setIsError(false);\n    }).catch(error => {\n      setIsError(true);\n      setIsLoading(false);\n    });\n  }, [query]);\n\n  async function createVideoRows(videos) {\n    let newVideoRows = [];\n\n    for (const video of videos) {\n      const videoId = video.id.videoId;\n      const response = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=statistics%2C%20snippet&id=${videoId}&key=${KEY}`);\n      const views = response.data.items[0].statistics.viewCount;\n      const snippet = video.snippet;\n      const title = snippet.title;\n      const timestamp = DateTime.fromISO(snippet.publishedAt).toRelative();\n      const channel = snippet.channelTitle;\n      const description = snippet.description;\n      const image = snippet.thumbnails.medium.url;\n      newVideoRows.push({\n        videoId,\n        title,\n        image,\n        views,\n        timestamp,\n        channel,\n        description\n      });\n    }\n\n    setVideoRows(newVideoRows);\n    setIsLoading(false);\n  }\n\n  if (isError) {\n    console.log(\"Error in fetching data\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"searchVideo\",\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n      className: \"loading\",\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : null, videoRows.map(video => {\n      return /*#__PURE__*/_jsxDEV(VideoRow, {\n        title: video.title,\n        image: video.image,\n        views: video.views,\n        timestamp: video.timestamp,\n        channel: video.channel,\n        description: video.description\n      }, video.videoId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchVideo, \"WQ2UZGPdNBSASbmT+62jsLHeOrs=\");\n\n_c = SearchVideo;\nexport default SearchVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchVideo\");","map":{"version":3,"names":["React","useState","useEffect","VideoRow","useParams","axios","DateTime","CircularProgress","SearchVideo","queryId","KEY","maxResults","console","log","videoRows","setVideoRows","isLoading","setIsLoading","isError","setIsError","get","query","then","response","createVideoRows","data","catch","error","videos","newVideoRows","video","videoId","id","views","items","statistics","viewCount","snippet","title","timestamp","fromISO","publishedAt","toRelative","channel","channelTitle","description","image","thumbnails","medium","url","push","map"],"sources":["/Users/mstar/Desktop/Acad-tasks/yt-app/src/SearchVideo.js"],"sourcesContent":["import \"./style/SearchVideo.css\";\nimport React, { useState, useEffect } from \"react\";\nimport VideoRow from \"./VideoRow\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { DateTime } from \"luxon\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst SearchVideo = () => {\n  const { queryId } = useParams;\n  const KEY = \"AIzaSyDjRye0LG-KWE8_VvLVRyPgtuJWSmwmKqI\";\n  const maxResults = 2;\n  // const query = \"badminton\";\n  console.log(\"search\", queryId);\n  const [videoRows, setVideoRows] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    setVideoRows([]);\n    axios\n      .get(\n        `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${maxResults}&type=video&q=${query}&safeSearch=none&key=${KEY}`\n      )\n      .then((response) => {\n        createVideoRows(response.data[\"items\"]);\n        setIsError(false);\n      })\n      .catch((error) => {\n        setIsError(true);\n        setIsLoading(false);\n      });\n  }, [query]);\n\n  async function createVideoRows(videos) {\n    let newVideoRows = [];\n    for (const video of videos) {\n      const videoId = video.id.videoId;\n      const response = await axios.get(\n        `https://www.googleapis.com/youtube/v3/videos?part=statistics%2C%20snippet&id=${videoId}&key=${KEY}`\n      );\n      const views = response.data.items[0].statistics.viewCount;\n      const snippet = video.snippet;\n      const title = snippet.title;\n      const timestamp = DateTime.fromISO(snippet.publishedAt).toRelative();\n      const channel = snippet.channelTitle;\n      const description = snippet.description;\n      const image = snippet.thumbnails.medium.url;\n\n      newVideoRows.push({\n        videoId,\n        title,\n        image,\n        views,\n        timestamp,\n        channel,\n        description,\n      });\n    }\n    setVideoRows(newVideoRows);\n    setIsLoading(false);\n  }\n  if (isError) {\n    console.log(\"Error in fetching data\");\n  }\n  return (\n    <div className=\"searchVideo\">\n      {isLoading ? (\n        <CircularProgress className=\"loading\" color=\"secondary\" />\n      ) : null}\n      {videoRows.map((video) => {\n        return (\n          <VideoRow\n            key={video.videoId}\n            title={video.title}\n            image={video.image}\n            views={video.views}\n            timestamp={video.timestamp}\n            channel={video.channel}\n            description={video.description}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default SearchVideo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}